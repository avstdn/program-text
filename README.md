# ПОЛУЧЕНИЕ ТЕКСТА ПРОГРАММЫ ИЗ ИСХОДНОГО КОДА ПРИЛОЖЕНИЯ

Ссылка на статью в КБ на внутреннем ресурсе: https://kb-liga.phoenixit.ru/pages/viewpage.action?pageId=182856238

Примечание! Потребуется установленная Java 8.


I. ПЕЧАТЬ ВСЕХ МОДУЛЕЙ С ПОМОЩЬЮ СКРИПТА(РЕКОМЕНДУЕТСЯ. БЫСТРЫЙ. ТОЛЬКО LINUX)
1. Скачать архив со скриптом и джарником: program-text-archive.zip. Создать пустую папку и распаковать туда. Либо можно получить джарник, собрав проект, а скрипт находится в /src/main/resources/program-text-script.sh. 

2. Открыть program-text-script.sh через любой редактор. В переменной PATH_TO_PROJECT указать абсолютный путь до папки проекта.

3. Внимательно просмотреть команды в скрипте и при необходимости убрать/добавить новые модули и параметры запуска. Подробное описание параметров запуска есть во второй части инструкции.

4. Сохранить скрипт, в терминале перейти в папку с ним, дать права на выполнение(единожды) и запустить:
> sudo chmod +x program-text-script.sh

> ./program-text-script.sh

5. В логах смотрим, чтобы для каждого модуля был SUCCESS. По окончанию выполнения скрипта, в этой же папке появятся текстовые файлы для каждого модуля.

II. ПЕЧАТЬ КАЖДОГО МОДУЛЯ ВРУЧНУЮ(СТАРЫЙ СПОСОБ. ДОЛГИЙ. WINDOWS/LINUX)
1. Скачать джарник из вложения: program-text.jar. Либо собрать проект и достать оттуда.

2. Для получения исходных кодов java (backend) в терминале/консоли перейти в папку со скачанным джарником и выполнить команду(все 3 параметра обязательные):

> java -jar program-text.jar C:\git\soop\soop-server\src\main\java .java 0 soop-server

Описание параметров запуска:
- "C:\git\soop\soop-server\src\main\java" - Абсолютный путь до директории, откуда будет начинаться обход файлов.
- ".java" - Расширения файлов, которые будут записаны в файл. Если их несколько, то писать через запятую слитно без пробелов.
- "0" - Абсолютный путь до папки/папок, которые НЕ НУЖНО записывать в файл. Если их несколько, то писать через запятую слитно без пробелов. Параметр обязательный, поэтому нужно туда что-то передавать, например 0, если хотим его пропустить.
- "soop-server" - Название текстового файла, в который будет произведена запись. Расширение файла указывать не нужно.

3. Для получения исходных кодов js (frontend) в терминале/консоли перейти в папку со скачанным джарником и выполнить команду(все 3 параметра обязательные):

> java -jar program-text.jar C:\git\soop\soop-client\soop-ws .js,.scss C:\git\soop\soop-client\soop-ws\build soop-client

Описание параметров запуска:
- "C:\git\soop\soop-client\soop-ws" - Абсолютный путь до директории, откуда будет начинаться обход файлов.
- ".js,.scss" - Расширения файлов, которые будут записаны в файл. Если их несколько, то писать через запятую слитно без пробелов.
- "C:\git\soop\soop-client\soop-ws\build" - Абсолютный путь до папки/папок, которые НЕ НУЖНО записывать в файл. Если их несколько, то писать через запятую слитно без пробелов. Параметр обязательный, поэтому нужно туда что-то передавать, например 0, если хотим его пропустить.
- "soop-client" - Название текстового файла, в который будет произведена запись. Расширение файла указывать не нужно.

4. По окончанию выполнения программы, в папке, где был расположен джарник появится текстовый файл с соответствующим модулю названием.

5. Аналогичным образом выполнить команду для каждого из модулей, текст программы которого необходимо получить, например: soop-server, soop-gis-gmp и др.
